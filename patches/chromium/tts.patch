From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Heilig Benedek <benecene@gmail.com>
Date: Thu, 18 Oct 2018 17:08:03 -0700
Subject: tts.patch

* Adds patch in //chrome/browser/speech/tts_controller_impl.cc
  to disable calls using chrome profile class.
* Adds patch in //chrome/browser/speech/tts_message_filter.cc
  to remove reference to browser context when its signaled for
  destruction from content layer.

diff --git a/chrome/browser/speech/tts_controller_delegate_impl.cc b/chrome/browser/speech/tts_controller_delegate_impl.cc
index c62476d6f77857eb9e254afddb02c772338425de..8b5b9a090f33fc0a961901d9058fbdf3070efea6 100644
--- a/chrome/browser/speech/tts_controller_delegate_impl.cc
+++ b/chrome/browser/speech/tts_controller_delegate_impl.cc
@@ -211,6 +211,7 @@ void TtsControllerDelegateImpl::UpdateUtteranceDefaultsFromPrefs(
 const PrefService* TtsControllerDelegateImpl::GetPrefService(
     content::TtsUtterance* utterance) {
   const PrefService* prefs = nullptr;
+#if 0
   // The utterance->GetBrowserContext() is null in tests.
   if (utterance->GetBrowserContext()) {
     const Profile* profile =
@@ -218,5 +219,6 @@ const PrefService* TtsControllerDelegateImpl::GetPrefService(
     if (profile)
       prefs = profile->GetPrefs();
   }
+#endif
   return prefs;
 }
